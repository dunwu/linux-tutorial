<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å®šæ—¶ä»»åŠ¡ - crontab | LINUX-TUTORIAL</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/linux-tutorial/favicon.ico">
    <meta name="description" content="æ•°æ®åº“æ•™ç¨‹">
    
    <link rel="preload" href="/linux-tutorial/assets/css/0.styles.45d9d031.css" as="style"><link rel="preload" href="/linux-tutorial/assets/js/app.79a38eea.js" as="script"><link rel="preload" href="/linux-tutorial/assets/js/4.fb6e0f89.js" as="script"><link rel="preload" href="/linux-tutorial/assets/js/39.7b648b3e.js" as="script"><link rel="preload" href="/linux-tutorial/assets/js/5.cb43ecfb.js" as="script"><link rel="prefetch" href="/linux-tutorial/assets/js/10.7933187b.js"><link rel="prefetch" href="/linux-tutorial/assets/js/11.b9b41530.js"><link rel="prefetch" href="/linux-tutorial/assets/js/12.70a5dba8.js"><link rel="prefetch" href="/linux-tutorial/assets/js/13.857dcc43.js"><link rel="prefetch" href="/linux-tutorial/assets/js/14.5a603a55.js"><link rel="prefetch" href="/linux-tutorial/assets/js/15.d217acb7.js"><link rel="prefetch" href="/linux-tutorial/assets/js/16.ad565eae.js"><link rel="prefetch" href="/linux-tutorial/assets/js/17.d43e9f56.js"><link rel="prefetch" href="/linux-tutorial/assets/js/18.aa00ff43.js"><link rel="prefetch" href="/linux-tutorial/assets/js/19.43ce44b3.js"><link rel="prefetch" href="/linux-tutorial/assets/js/20.5618e1ff.js"><link rel="prefetch" href="/linux-tutorial/assets/js/21.1c5a41d7.js"><link rel="prefetch" href="/linux-tutorial/assets/js/22.fbe9fdf1.js"><link rel="prefetch" href="/linux-tutorial/assets/js/23.a4fb0e74.js"><link rel="prefetch" href="/linux-tutorial/assets/js/24.e3a23b69.js"><link rel="prefetch" href="/linux-tutorial/assets/js/25.9896afe9.js"><link rel="prefetch" href="/linux-tutorial/assets/js/26.96164082.js"><link rel="prefetch" href="/linux-tutorial/assets/js/27.391033bb.js"><link rel="prefetch" href="/linux-tutorial/assets/js/28.703f74c2.js"><link rel="prefetch" href="/linux-tutorial/assets/js/29.02a952cb.js"><link rel="prefetch" href="/linux-tutorial/assets/js/30.7e13628f.js"><link rel="prefetch" href="/linux-tutorial/assets/js/31.c4652f75.js"><link rel="prefetch" href="/linux-tutorial/assets/js/32.05d2cbec.js"><link rel="prefetch" href="/linux-tutorial/assets/js/33.3b265df8.js"><link rel="prefetch" href="/linux-tutorial/assets/js/34.26330a03.js"><link rel="prefetch" href="/linux-tutorial/assets/js/35.417d706d.js"><link rel="prefetch" href="/linux-tutorial/assets/js/36.0ed775e0.js"><link rel="prefetch" href="/linux-tutorial/assets/js/37.34430c74.js"><link rel="prefetch" href="/linux-tutorial/assets/js/38.87d5e0ff.js"><link rel="prefetch" href="/linux-tutorial/assets/js/40.3b7a219e.js"><link rel="prefetch" href="/linux-tutorial/assets/js/41.e727eee9.js"><link rel="prefetch" href="/linux-tutorial/assets/js/42.0134c187.js"><link rel="prefetch" href="/linux-tutorial/assets/js/43.175e982f.js"><link rel="prefetch" href="/linux-tutorial/assets/js/44.72d90888.js"><link rel="prefetch" href="/linux-tutorial/assets/js/45.d49955bd.js"><link rel="prefetch" href="/linux-tutorial/assets/js/46.a9c290ec.js"><link rel="prefetch" href="/linux-tutorial/assets/js/47.cc639f04.js"><link rel="prefetch" href="/linux-tutorial/assets/js/48.98c78321.js"><link rel="prefetch" href="/linux-tutorial/assets/js/49.a7c3afed.js"><link rel="prefetch" href="/linux-tutorial/assets/js/50.22d8c542.js"><link rel="prefetch" href="/linux-tutorial/assets/js/51.28055fcd.js"><link rel="prefetch" href="/linux-tutorial/assets/js/52.f8103df5.js"><link rel="prefetch" href="/linux-tutorial/assets/js/53.76541550.js"><link rel="prefetch" href="/linux-tutorial/assets/js/54.e78d2776.js"><link rel="prefetch" href="/linux-tutorial/assets/js/55.3ce3079c.js"><link rel="prefetch" href="/linux-tutorial/assets/js/56.832958c9.js"><link rel="prefetch" href="/linux-tutorial/assets/js/57.961ce896.js"><link rel="prefetch" href="/linux-tutorial/assets/js/58.6d6fbc82.js"><link rel="prefetch" href="/linux-tutorial/assets/js/59.d5e48112.js"><link rel="prefetch" href="/linux-tutorial/assets/js/6.c8f4721c.js"><link rel="prefetch" href="/linux-tutorial/assets/js/60.7927b23b.js"><link rel="prefetch" href="/linux-tutorial/assets/js/61.ee233f24.js"><link rel="prefetch" href="/linux-tutorial/assets/js/62.6ba50cc7.js"><link rel="prefetch" href="/linux-tutorial/assets/js/63.9cbf9f2b.js"><link rel="prefetch" href="/linux-tutorial/assets/js/64.0be148a4.js"><link rel="prefetch" href="/linux-tutorial/assets/js/65.c520257e.js"><link rel="prefetch" href="/linux-tutorial/assets/js/66.f2335390.js"><link rel="prefetch" href="/linux-tutorial/assets/js/67.e5737218.js"><link rel="prefetch" href="/linux-tutorial/assets/js/68.46427a01.js"><link rel="prefetch" href="/linux-tutorial/assets/js/69.450417bb.js"><link rel="prefetch" href="/linux-tutorial/assets/js/7.046e5a1b.js"><link rel="prefetch" href="/linux-tutorial/assets/js/70.072034d2.js"><link rel="prefetch" href="/linux-tutorial/assets/js/8.77fb8967.js"><link rel="prefetch" href="/linux-tutorial/assets/js/9.ebfa537e.js"><link rel="prefetch" href="/linux-tutorial/assets/js/vendors~flowchart.20a64d45.js"><link rel="prefetch" href="/linux-tutorial/assets/js/vendors~notification.ea176280.js">
    <link rel="stylesheet" href="/linux-tutorial/assets/css/0.styles.45d9d031.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/linux-tutorial/" class="home-link router-link-active"><img src="images/dunwu-logo-100.png" alt="LINUX-TUTORIAL" class="logo"> <span class="site-name can-hide">LINUX-TUTORIAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/linux-tutorial/linux/cli/" class="nav-link">
  Linux å‘½ä»¤
</a></div><div class="nav-item"><a href="/linux-tutorial/linux/ops/" class="nav-link router-link-active">
  Linux è¿ç»´
</a></div><div class="nav-item"><a href="/linux-tutorial/linux/soft/" class="nav-link">
  Linux è½¯ä»¶è¿ç»´
</a></div><div class="nav-item"><a href="/linux-tutorial/docker/" class="nav-link">
  Docker æ•™ç¨‹
</a></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ¯ åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/linux-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/linux-tutorial/linux/cli/" class="nav-link">
  Linux å‘½ä»¤
</a></div><div class="nav-item"><a href="/linux-tutorial/linux/ops/" class="nav-link router-link-active">
  Linux è¿ç»´
</a></div><div class="nav-item"><a href="/linux-tutorial/linux/soft/" class="nav-link">
  Linux è½¯ä»¶è¿ç»´
</a></div><div class="nav-item"><a href="/linux-tutorial/docker/" class="nav-link">
  Docker æ•™ç¨‹
</a></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ¯ åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/linux-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>å®šæ—¶ä»»åŠ¡ - crontab</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/linux-tutorial/linux/ops/crontab.html#crond-æœåŠ¡" class="sidebar-link">crond æœåŠ¡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/linux-tutorial/linux/ops/crontab.html#æ£€æŸ¥-crond-æœåŠ¡" class="sidebar-link">æ£€æŸ¥ crond æœåŠ¡</a></li><li class="sidebar-sub-header"><a href="/linux-tutorial/linux/ops/crontab.html#crond-æœåŠ¡å‘½ä»¤" class="sidebar-link">crond æœåŠ¡å‘½ä»¤</a></li></ul></li><li><a href="/linux-tutorial/linux/ops/crontab.html#crontab" class="sidebar-link">crontab</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/linux-tutorial/linux/ops/crontab.html#crontab-å‘½ä»¤" class="sidebar-link">crontab å‘½ä»¤</a></li><li class="sidebar-sub-header"><a href="/linux-tutorial/linux/ops/crontab.html#crontab-æ–‡ä»¶" class="sidebar-link">crontab æ–‡ä»¶</a></li><li class="sidebar-sub-header"><a href="/linux-tutorial/linux/ops/crontab.html#crontab-å®ä¾‹" class="sidebar-link">crontab å®ä¾‹</a></li></ul></li><li><a href="/linux-tutorial/linux/ops/crontab.html#å‚è€ƒèµ„æ–™" class="sidebar-link">å‚è€ƒèµ„æ–™</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="å®šæ—¶ä»»åŠ¡-crontab"><a href="#å®šæ—¶ä»»åŠ¡-crontab" class="header-anchor">#</a> å®šæ—¶ä»»åŠ¡ - crontab</h1> <blockquote><p>ç¯å¢ƒï¼šCentOS</p></blockquote> <p>é€šè¿‡ <code>crontab</code> å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å›ºå®šçš„é—´éš”æ—¶é—´æ‰§è¡ŒæŒ‡å®šçš„ç³»ç»ŸæŒ‡ä»¤æˆ– shell script è„šæœ¬ã€‚æ—¶é—´é—´éš”çš„å•ä½å¯ä»¥æ˜¯åˆ†é’Ÿã€å°æ—¶ã€æ—¥ã€æœˆã€å‘¨åŠä»¥ä¸Šçš„ä»»æ„ç»„åˆã€‚è¿™ä¸ªå‘½ä»¤éå¸¸é€‚åˆå‘¨æœŸæ€§çš„æ—¥å¿—åˆ†ææˆ–æ•°æ®å¤‡ä»½ç­‰å·¥ä½œã€‚</p> <h2 id="crond-æœåŠ¡"><a href="#crond-æœåŠ¡" class="header-anchor">#</a> crond æœåŠ¡</h2> <p>Linux é€šè¿‡ crond æœåŠ¡æ¥æ”¯æŒ crontabã€‚</p> <h3 id="æ£€æŸ¥-crond-æœåŠ¡"><a href="#æ£€æŸ¥-crond-æœåŠ¡" class="header-anchor">#</a> æ£€æŸ¥ <code>crond</code> æœåŠ¡</h3> <p>ä½¿ç”¨ <code>systemctl list-unit-files</code> å‘½ä»¤ç¡®è®¤ <code>crond</code> æœåŠ¡æ˜¯å¦å·²å®‰è£…ã€‚</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ systemctl list-unit-files <span class="token operator">|</span> <span class="token function">grep</span> crond
crond.service                               enabled
</code></pre></div><p>å¦‚æœä¸º enabledï¼Œè¡¨ç¤ºæœåŠ¡æ­£è¿è¡Œã€‚</p> <h3 id="crond-æœåŠ¡å‘½ä»¤"><a href="#crond-æœåŠ¡å‘½ä»¤" class="header-anchor">#</a> crond æœåŠ¡å‘½ä»¤</h3> <p>å¼€æœºè‡ªåŠ¨å¯åŠ¨ crond æœåŠ¡ï¼š<code>chkconfig crond on</code></p> <p>æˆ–è€…ï¼ŒæŒ‰ä»¥ä¸‹å‘½ä»¤æ‰‹åŠ¨å¯åŠ¨ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code>systemctl <span class="token builtin class-name">enable</span> crond.service  <span class="token comment"># å¼€å¯æœåŠ¡ï¼ˆå¼€æœºè‡ªåŠ¨å¯åŠ¨æœåŠ¡ï¼‰</span>
systemctl disable crond.service <span class="token comment"># å…³é—­æœåŠ¡ï¼ˆå¼€æœºä¸ä¼šè‡ªåŠ¨å¯åŠ¨æœåŠ¡ï¼‰</span>
systemctl start crond.service   <span class="token comment"># å¯åŠ¨æœåŠ¡</span>
systemctl stop crond.service    <span class="token comment"># åœæ­¢æœåŠ¡</span>
systemctl restart crond.service <span class="token comment"># é‡å¯æœåŠ¡</span>
systemctl reload crond.service  <span class="token comment"># é‡æ–°è½½å…¥é…ç½®</span>
systemctl status crond.service  <span class="token comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span>
</code></pre></div><h2 id="crontab"><a href="#crontab" class="header-anchor">#</a> crontab</h2> <h3 id="crontab-å‘½ä»¤"><a href="#crontab-å‘½ä»¤" class="header-anchor">#</a> crontab å‘½ä»¤</h3> <p>crontab å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">crontab</span> <span class="token punctuation">[</span>-u user<span class="token punctuation">]</span> <span class="token function">file</span> <span class="token function">crontab</span> <span class="token punctuation">[</span>-u user<span class="token punctuation">]</span> <span class="token punctuation">[</span> -e <span class="token operator">|</span> -l <span class="token operator">|</span> -r <span class="token punctuation">]</span>
</code></pre></div><p>è¯´æ˜ï¼š</p> <ul><li><code>-u user</code>ï¼šç”¨æ¥è®¾å®šæŸä¸ªç”¨æˆ·çš„ crontab æœåŠ¡ï¼›</li> <li><code>file</code>ï¼šfile æ˜¯å‘½ä»¤æ–‡ä»¶çš„åå­—ï¼Œè¡¨ç¤ºå°† file åšä¸º crontab çš„ä»»åŠ¡åˆ—è¡¨æ–‡ä»¶å¹¶è½½å…¥ crontabã€‚å¦‚æœåœ¨å‘½ä»¤è¡Œä¸­æ²¡æœ‰æŒ‡å®šè¿™ä¸ªæ–‡ä»¶ï¼Œcrontab å‘½ä»¤å°†æ¥å—æ ‡å‡†è¾“å…¥ï¼ˆé”®ç›˜ï¼‰ä¸Šé”®å…¥çš„å‘½ä»¤ï¼Œå¹¶å°†å®ƒä»¬è½½å…¥ crontabã€‚</li> <li><code>-e</code>ï¼šç¼–è¾‘æŸä¸ªç”¨æˆ·çš„ crontab æ–‡ä»¶å†…å®¹ã€‚å¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™è¡¨ç¤ºç¼–è¾‘å½“å‰ç”¨æˆ·çš„ crontab æ–‡ä»¶ã€‚</li> <li><code>-l</code>ï¼šæ˜¾ç¤ºæŸä¸ªç”¨æˆ·çš„ crontab æ–‡ä»¶å†…å®¹ï¼Œå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™è¡¨ç¤ºæ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„ crontab æ–‡ä»¶å†…å®¹ã€‚</li> <li><code>-r</code>ï¼šä»/var/spool/cron ç›®å½•ä¸­åˆ é™¤æŸä¸ªç”¨æˆ·çš„ crontab æ–‡ä»¶ï¼Œå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™é»˜è®¤åˆ é™¤å½“å‰ç”¨æˆ·çš„ crontab æ–‡ä»¶ã€‚</li> <li><code>-i</code>ï¼šåœ¨åˆ é™¤ç”¨æˆ·çš„ crontab æ–‡ä»¶æ—¶ç»™ç¡®è®¤æç¤ºã€‚</li></ul> <p>æœ‰ä¸¤ç§æ–¹æ³•å†™å…¥å®šæ—¶ä»»åŠ¡ï¼š</p> <ul><li>åœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š<code>crontab -e</code> ç„¶åæ·»åŠ ç›¸åº”çš„ä»»åŠ¡ï¼Œå­˜ç›˜é€€å‡ºã€‚</li> <li>ç›´æ¥ç¼–è¾‘ <code>/etc/crontab</code> æ–‡ä»¶ï¼Œå³ <code>vi /etc/crontab</code>ï¼Œæ·»åŠ ç›¸åº”çš„ä»»åŠ¡ã€‚</li></ul> <h3 id="crontab-æ–‡ä»¶"><a href="#crontab-æ–‡ä»¶" class="header-anchor">#</a> crontab æ–‡ä»¶</h3> <p>crontab è¦æ‰§è¡Œçš„å®šæ—¶ä»»åŠ¡éƒ½è¢«ä¿å­˜åœ¨ <code>/etc/crontab</code> æ–‡ä»¶ä¸­ã€‚</p> <p>crontab çš„æ–‡ä»¶æ ¼å¼å¦‚ä¸‹ï¼š</p> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200211113339.png" alt="img"></p> <h4 id="æ ‡å‡†å­—æ®µ"><a href="#æ ‡å‡†å­—æ®µ" class="header-anchor">#</a> æ ‡å‡†å­—æ®µ</h4> <p><strong>é€—å·</strong>ç”¨äºåˆ†éš”åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼Œåœ¨ç¬¬ 5 ä¸ªå­—æ®µ(æ˜ŸæœŸå‡ )ä¸­ä½¿ç”¨ <code>MON,WED,FRI</code> è¡¨ç¤ºå‘¨ä¸€ã€å‘¨ä¸‰å’Œå‘¨äº”ã€‚</p> <p><strong>è¿å­—ç¬¦</strong>å®šä¹‰èŒƒå›´ã€‚ä¾‹å¦‚ï¼Œ<code>2000-2010</code> è¡¨ç¤º 2000 å¹´è‡³ 2010 å¹´æœŸé—´çš„æ¯å¹´ï¼ŒåŒ…æ‹¬ 2000 å¹´å’Œ 2010 å¹´ã€‚</p> <p>é™¤éç”¨åæ–œæ ()è½¬ä¹‰ï¼Œå¦åˆ™å‘½ä»¤ä¸­çš„**ç™¾åˆ†å·(%)**ä¼šè¢«æ›¿æ¢æˆæ¢è¡Œç¬¦ï¼Œç¬¬ä¸€ä¸ªç™¾åˆ†å·åé¢çš„æ‰€æœ‰æ•°æ®éƒ½ä¼šä½œä¸ºæ ‡å‡†è¾“å…¥å‘é€ç»™å‘½ä»¤ã€‚</p> <table><thead><tr><th style="text-align:left;">å­—æ®µ</th> <th style="text-align:left;">æ˜¯å¦å¿…å¡«</th> <th style="text-align:left;">å…è®¸å€¼</th> <th style="text-align:left;">å…è®¸ç‰¹æ®Šå­—ç¬¦</th></tr></thead> <tbody><tr><td style="text-align:left;">Minutes</td> <td style="text-align:left;">æ˜¯</td> <td style="text-align:left;">0â€“59</td> <td style="text-align:left;"><code>*</code>,<code>-</code></td></tr> <tr><td style="text-align:left;">Hours</td> <td style="text-align:left;">æ˜¯</td> <td style="text-align:left;">0â€“23</td> <td style="text-align:left;"><code>*</code>,<code>-</code></td></tr> <tr><td style="text-align:left;">Day of month</td> <td style="text-align:left;">æ˜¯</td> <td style="text-align:left;">1â€“31</td> <td style="text-align:left;"><code>*</code>,<code>-</code></td></tr> <tr><td style="text-align:left;">Month</td> <td style="text-align:left;">æ˜¯</td> <td style="text-align:left;">1â€“12 or JANâ€“DEC</td> <td style="text-align:left;"><code>*</code>,<code>-</code></td></tr> <tr><td style="text-align:left;">Day of week</td> <td style="text-align:left;">æ˜¯</td> <td style="text-align:left;">0â€“6 or SUNâ€“SAT</td> <td style="text-align:left;"><code>*</code>,<code>-</code></td></tr></tbody></table> <p><code>/etc/crontab</code> æ–‡ä»¶ç¤ºä¾‹ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable"><span class="token environment constant">SHELL</span></span><span class="token operator">=</span>/bin/bash
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/sbin:/bin:/usr/sbin:/usr/bin
<span class="token assign-left variable">MAILTO</span><span class="token operator">=</span>root

<span class="token comment"># For details see man 4 crontabs</span>

<span class="token comment"># Example of job definition:</span>
<span class="token comment"># .---------------- minute (0 - 59)</span>
<span class="token comment"># |  .------------- hour (0 - 23)</span>
<span class="token comment"># |  |  .---------- day of month (1 - 31)</span>
<span class="token comment"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span>
<span class="token comment"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span>
<span class="token comment"># |  |  |  |  |</span>
<span class="token comment"># *  *  *  *  * user-name  command to be executed</span>

<span class="token comment"># æ¯ä¸¤ä¸ªå°æ—¶ä»¥rootèº«ä»½æ‰§è¡Œ /home/hello.sh è„šæœ¬</span>
<span class="token number">0</span> */2 * * * root /home/hello.sh
</code></pre></div><h3 id="crontab-å®ä¾‹"><a href="#crontab-å®ä¾‹" class="header-anchor">#</a> crontab å®ä¾‹</h3> <h4 id="å®ä¾‹-1-æ¯-1-åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡-mycommand"><a href="#å®ä¾‹-1-æ¯-1-åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡-mycommand" class="header-anchor">#</a> å®ä¾‹ 1ï¼šæ¯ 1 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ myCommand</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>* * * * * myCommand
</code></pre></div><h4 id="å®ä¾‹-2-æ¯å°æ—¶çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ"><a href="#å®ä¾‹-2-æ¯å°æ—¶çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ" class="header-anchor">#</a> å®ä¾‹ 2ï¼šæ¯å°æ—¶çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">3,15</span> * * * * myCommand
</code></pre></div><h4 id="å®ä¾‹-3-åœ¨ä¸Šåˆ-8-ç‚¹åˆ°-11-ç‚¹çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ"><a href="#å®ä¾‹-3-åœ¨ä¸Šåˆ-8-ç‚¹åˆ°-11-ç‚¹çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ" class="header-anchor">#</a> å®ä¾‹ 3ï¼šåœ¨ä¸Šåˆ 8 ç‚¹åˆ° 11 ç‚¹çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">3,15</span> <span class="token number">8</span>-11 * * * myCommand
</code></pre></div><h4 id="å®ä¾‹-4-æ¯éš”ä¸¤å¤©çš„ä¸Šåˆ-8-ç‚¹åˆ°-11-ç‚¹çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ"><a href="#å®ä¾‹-4-æ¯éš”ä¸¤å¤©çš„ä¸Šåˆ-8-ç‚¹åˆ°-11-ç‚¹çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ" class="header-anchor">#</a> å®ä¾‹ 4ï¼šæ¯éš”ä¸¤å¤©çš„ä¸Šåˆ 8 ç‚¹åˆ° 11 ç‚¹çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">3,15</span> <span class="token number">8</span>-11 */2  *  * myCommand
</code></pre></div><h4 id="å®ä¾‹-5-æ¯å‘¨ä¸€ä¸Šåˆ-8-ç‚¹åˆ°-11-ç‚¹çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ"><a href="#å®ä¾‹-5-æ¯å‘¨ä¸€ä¸Šåˆ-8-ç‚¹åˆ°-11-ç‚¹çš„ç¬¬-3-å’Œç¬¬-15-åˆ†é’Ÿæ‰§è¡Œ" class="header-anchor">#</a> å®ä¾‹ 5ï¼šæ¯å‘¨ä¸€ä¸Šåˆ 8 ç‚¹åˆ° 11 ç‚¹çš„ç¬¬ 3 å’Œç¬¬ 15 åˆ†é’Ÿæ‰§è¡Œ</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">3,15</span> <span class="token number">8</span>-11 * * <span class="token number">1</span> myCommand
</code></pre></div><h4 id="å®ä¾‹-6-æ¯æ™šçš„-21-30-é‡å¯-smb"><a href="#å®ä¾‹-6-æ¯æ™šçš„-21-30-é‡å¯-smb" class="header-anchor">#</a> å®ä¾‹ 6ï¼šæ¯æ™šçš„ 21:30 é‡å¯ smb</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">30</span> <span class="token number">21</span> * * * /etc/init.d/smb restart
</code></pre></div><h4 id="å®ä¾‹-7-æ¯æœˆ-1ã€10ã€22-æ—¥çš„-4-45-é‡å¯-smb"><a href="#å®ä¾‹-7-æ¯æœˆ-1ã€10ã€22-æ—¥çš„-4-45-é‡å¯-smb" class="header-anchor">#</a> å®ä¾‹ 7ï¼šæ¯æœˆ 1ã€10ã€22 æ—¥çš„ 4 : 45 é‡å¯ smb</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">45</span> <span class="token number">4</span> <span class="token number">1,10</span>,22 * * /etc/init.d/smb restart
</code></pre></div><h4 id="å®ä¾‹-8-æ¯å‘¨å…­ã€å‘¨æ—¥çš„-1-10-é‡å¯-smb"><a href="#å®ä¾‹-8-æ¯å‘¨å…­ã€å‘¨æ—¥çš„-1-10-é‡å¯-smb" class="header-anchor">#</a> å®ä¾‹ 8ï¼šæ¯å‘¨å…­ã€å‘¨æ—¥çš„ 1 : 10 é‡å¯ smb</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">10</span> <span class="token number">1</span> * * <span class="token number">6,0</span> /etc/init.d/smb restart
</code></pre></div><h4 id="å®ä¾‹-9-æ¯å¤©-18-00-è‡³-23-00-ä¹‹é—´æ¯éš”-30-åˆ†é’Ÿé‡å¯-smb"><a href="#å®ä¾‹-9-æ¯å¤©-18-00-è‡³-23-00-ä¹‹é—´æ¯éš”-30-åˆ†é’Ÿé‡å¯-smb" class="header-anchor">#</a> å®ä¾‹ 9ï¼šæ¯å¤© 18 : 00 è‡³ 23 : 00 ä¹‹é—´æ¯éš” 30 åˆ†é’Ÿé‡å¯ smb</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">0,30</span> <span class="token number">18</span>-23 * * * /etc/init.d/smb restart
</code></pre></div><h4 id="å®ä¾‹-10-æ¯æ˜ŸæœŸå…­çš„æ™šä¸Š-11-00-pm-é‡å¯-smb"><a href="#å®ä¾‹-10-æ¯æ˜ŸæœŸå…­çš„æ™šä¸Š-11-00-pm-é‡å¯-smb" class="header-anchor">#</a> å®ä¾‹ 10ï¼šæ¯æ˜ŸæœŸå…­çš„æ™šä¸Š 11 : 00 pm é‡å¯ smb</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">0</span> <span class="token number">23</span> * * <span class="token number">6</span> /etc/init.d/smb restart
</code></pre></div><h4 id="å®ä¾‹-11-æ¯ä¸€å°æ—¶é‡å¯-smb"><a href="#å®ä¾‹-11-æ¯ä¸€å°æ—¶é‡å¯-smb" class="header-anchor">#</a> å®ä¾‹ 11ï¼šæ¯ä¸€å°æ—¶é‡å¯ smb</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>* */1 * * * /etc/init.d/smb restart
</code></pre></div><h4 id="å®ä¾‹-12-æ™šä¸Š-11-ç‚¹åˆ°æ—©ä¸Š-7-ç‚¹ä¹‹é—´-æ¯éš”ä¸€å°æ—¶é‡å¯-smb"><a href="#å®ä¾‹-12-æ™šä¸Š-11-ç‚¹åˆ°æ—©ä¸Š-7-ç‚¹ä¹‹é—´-æ¯éš”ä¸€å°æ—¶é‡å¯-smb" class="header-anchor">#</a> å®ä¾‹ 12ï¼šæ™šä¸Š 11 ç‚¹åˆ°æ—©ä¸Š 7 ç‚¹ä¹‹é—´ï¼Œæ¯éš”ä¸€å°æ—¶é‡å¯ smb</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">0</span> <span class="token number">23</span>-7 * * * /etc/init.d/smb restart
</code></pre></div><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="header-anchor">#</a> å‚è€ƒèµ„æ–™</h2> <ul><li><strong>æ–‡ç« </strong> <ul><li><a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/crontab.html" target="_blank" rel="noopener noreferrer">crontab å®šæ—¶ä»»åŠ¡<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.csdn.net/z_yong_cool/article/details/79288397" target="_blank" rel="noopener noreferrer">linux å®šæ—¶æ‰§è¡Œè„šæœ¬<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><strong>åœ¨çº¿å·¥å…·</strong> <ul><li><a href="https://tool.lu/crontab/" target="_blank" rel="noopener noreferrer">https://tool.lu/crontab/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://cron.qqe2.com/" target="_blank" rel="noopener noreferrer">https://cron.qqe2.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/linux-tutorial/edit/master/docs/linux/ops/crontab.md" target="_blank" rel="noopener noreferrer">å¸®åŠ©æˆ‘ä»¬æ”¹å–„æ­¤é¡µé¢ï¼</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">19 minutes ago</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/linux-tutorial/assets/js/app.79a38eea.js" defer></script><script src="/linux-tutorial/assets/js/4.fb6e0f89.js" defer></script><script src="/linux-tutorial/assets/js/39.7b648b3e.js" defer></script><script src="/linux-tutorial/assets/js/5.cb43ecfb.js" defer></script>
  </body>
</html>
