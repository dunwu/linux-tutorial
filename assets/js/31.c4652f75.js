(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{419:function(s,t,a){"use strict";a.r(t);var n=a(15),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"linux-系统管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-系统管理"}},[s._v("#")]),s._v(" Linux 系统管理")]),s._v(" "),a("blockquote",[a("p",[s._v("关键词："),a("code",[s._v("lsb_release")]),s._v(", "),a("code",[s._v("reboot")]),s._v(", "),a("code",[s._v("exit")]),s._v(", "),a("code",[s._v("shutdown")]),s._v(", "),a("code",[s._v("date")]),s._v(", "),a("code",[s._v("mount")]),s._v(", "),a("code",[s._v("umount")]),s._v(", "),a("code",[s._v("ps")]),s._v(", "),a("code",[s._v("kill")]),s._v(", "),a("code",[s._v("systemctl")]),s._v(", "),a("code",[s._v("service")]),s._v(", "),a("code",[s._v("crontab")])])]),s._v(" "),a("h2",{attrs:{id:"_1-linux-系统管理要点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-linux-系统管理要点"}},[s._v("#")]),s._v(" 1. Linux 系统管理要点")]),s._v(" "),a("ul",[a("li",[s._v("查看 Linux 系统发行版本\n"),a("ul",[a("li",[s._v("使用 "),a("a",{attrs:{href:"#lsb_release"}},[s._v("lsb_release")]),s._v("（此命令适用于所有的 Linux 发行版本）")]),s._v(" "),a("li",[s._v("使用 "),a("code",[s._v("cat /etc/redhat-release")]),s._v("（此方法只适合 Redhat 系的 Linux）")])])]),s._v(" "),a("li",[s._v("查看 CPU 信息 - 使用 "),a("code",[s._v("cat /proc/cpuinfo")])]),s._v(" "),a("li",[s._v("重新启动 Linux 操作系统 - 使用 "),a("a",{attrs:{href:"#reboot"}},[s._v("reboot")])]),s._v(" "),a("li",[s._v("退出 shell，并返回给定值 - 使用 "),a("a",{attrs:{href:"#exit"}},[s._v("exit")])]),s._v(" "),a("li",[s._v("关闭系统 - 使用 "),a("a",{attrs:{href:"#shutdown"}},[s._v("shutdown")])]),s._v(" "),a("li",[s._v("查看或设置系统时间与日期 - 使用 "),a("a",{attrs:{href:"#date"}},[s._v("date")])]),s._v(" "),a("li",[s._v("挂载文件系统 - 使用 "),a("a",{attrs:{href:"#mount"}},[s._v("mount")])]),s._v(" "),a("li",[s._v("取消挂载文件系统 - 使用 "),a("a",{attrs:{href:"#umount"}},[s._v("umount")])]),s._v(" "),a("li",[s._v("查看系统当前进程状态 - 使用 "),a("a",{attrs:{href:"#ps"}},[s._v("ps")])]),s._v(" "),a("li",[s._v("删除当前正在运行的进程 - 使用 "),a("a",{attrs:{href:"#kill"}},[s._v("kill")])]),s._v(" "),a("li",[s._v("启动、停止、重启、关闭、显示系统服务（Centos7），使用 "),a("a",{attrs:{href:"#systemctl"}},[s._v("systemctl")])]),s._v(" "),a("li",[s._v("启动、停止、重启、关闭、显示系统服务（Centos7 以前），使用 "),a("a",{attrs:{href:"#service"}},[s._v("service")])]),s._v(" "),a("li",[s._v("管理需要周期性执行的任务，使用 "),a("a",{attrs:{href:"#crontab"}},[s._v("crontab")])])]),s._v(" "),a("h2",{attrs:{id:"_2-命令常见用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令常见用法"}},[s._v("#")]),s._v(" 2. 命令常见用法")]),s._v(" "),a("h3",{attrs:{id:"_2-1-lsb-release"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-lsb-release"}},[s._v("#")]),s._v(" 2.1. lsb_release")]),s._v(" "),a("p",[s._v("lsb_release 不是 bash 默认命令，如果要使用，需要先安装。")]),s._v(" "),a("p",[s._v("安装方法：")]),s._v(" "),a("ol",[a("li",[s._v("执行 "),a("code",[s._v("yum provides lsb_release")]),s._v("，查看支持 lsb_release 命令的包。")]),s._v(" "),a("li",[s._v("选择合适版本，执行类似这样的安装命令："),a("code",[s._v("yum install -y redhat-lsb-core-4.1-27.el7.centos.1.x86_64")])])]),s._v(" "),a("h3",{attrs:{id:"_2-2-reboot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-reboot"}},[s._v("#")]),s._v(" 2.2. reboot")]),s._v(" "),a("blockquote",[a("p",[s._v("reboot 命令用来重新启动正在运行的 Linux 操作系统。")]),s._v(" "),a("p",[s._v("参考：http://man.linuxde.net/reboot")])]),s._v(" "),a("p",[s._v("示例：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重开机。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v(" -w     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 做个重开机的模拟（只有纪录并不会真的重开机）。")]),s._v("\n")])])]),a("h3",{attrs:{id:"_2-3-exit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-exit"}},[s._v("#")]),s._v(" 2.3. exit")]),s._v(" "),a("blockquote",[a("p",[s._v("exit 命令同于退出 shell，并返回给定值。在 shell 脚本中可以终止当前脚本执行。执行 exit 可使 shell 以指定的状态值退出。若不设置状态值参数，则 shell 以预设值退出。状态值 0 代表执行成功，其他值代表执行失败。")]),s._v(" "),a("p",[s._v("参考：http://man.linuxde.net/exit")])]),s._v(" "),a("p",[s._v("示例：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出当前 shell")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("logout")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在脚本中，进入脚本所在目录，否则退出")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dirname")]),s._v(" $0"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在脚本中，判断参数数量，不匹配就打印使用方式，退出")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v('"')]),s._v(" -ne "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"usage: '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(' <area> <hours>"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在脚本中，退出时删除临时文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("trap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rm -f tmpfile; echo Bye."')]),s._v(" EXIT\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查上一命令的退出码")]),s._v("\n./mycommand.sh\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("EXCODE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$EXCODE")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"O.K"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])])]),a("h3",{attrs:{id:"_2-4-shutdown"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-shutdown"}},[s._v("#")]),s._v(" 2.4. shutdown")]),s._v(" "),a("blockquote",[a("p",[s._v("shutdown 命令用来系统关机命令。shutdown 指令可以关闭所有程序，并依用户的需要，进行重新开机或关机的动作。")]),s._v(" "),a("p",[s._v("参考：http://man.linuxde.net/shutdown")])]),s._v(" "),a("p",[s._v("示例：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定现在立即关机")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" -h now\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定 5 分钟后关机，同时送出警告信息给登入用户")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" +5 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"System will shutdown after 5 minutes"')]),s._v("\n")])])]),a("h3",{attrs:{id:"_2-5-date"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-date"}},[s._v("#")]),s._v(" 2.5. date")]),s._v(" "),a("blockquote",[a("p",[s._v("date 命令是显示或设置系统时间与日期。")]),s._v(" "),a("p",[s._v("参考：http://man.linuxde.net/date")])]),s._v(" "),a("p",[s._v("示例：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 格式化输出")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%Y-%m-%d"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2009")]),s._v("-12-07\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出昨天日期")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1 day ago"')]),s._v(" +"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%Y-%m-%d"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("-11-19\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2 秒后输出")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2 second"')]),s._v(" +"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%Y-%m-%d %H:%M.%S"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("-11-20 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":21.31\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 传说中的 1234567890 秒")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1970-01-01 1234567890 seconds"')]),s._v(" +"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%Y-%m-%d %H:%m:%S"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2009")]),s._v("-02-13 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":02:30\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 普通转格式")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2009-12-12"')]),s._v(" +"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%Y/%m/%d %H:%M.%S"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2009")]),s._v("/12/12 00:00.00\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# apache 格式转换")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Dec 5, 2009 12:00:37 AM"')]),s._v(" +"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%Y-%m-%d %H:%M.%S"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2009")]),s._v("-12-05 00:00.37\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 格式转换后时间游走")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Dec 5, 2009 12:00:37 AM 2 year ago"')]),s._v(" +"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%Y-%m-%d %H:%M.%S"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2007")]),s._v("-12-05 00:00.37\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加减操作")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%Y%m%d                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示前天年月日")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"+1 day"')]),s._v(" +%Y%m%d       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示前一天的日期")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-1 day"')]),s._v(" +%Y%m%d       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示后一天的日期")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-1 month"')]),s._v(" +%Y%m%d     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示上一月的日期")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"+1 month"')]),s._v(" +%Y%m%d     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示下一月的日期")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-1 year"')]),s._v(" +%Y%m%d      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示前一年的日期")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"+1 year"')]),s._v(" +%Y%m%d      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示下一年的日期")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设定时间")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -s                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置当前时间，只有root权限才能设置，其他只能查看")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -s "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20120523")]),s._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置成20120523，这样会把具体时间设置成空00:00:00")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -s 01:01:01               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置具体时间，不会对日期做更改")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -s "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"01:01:01 2012-05-23"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这样可以设置全部时间")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -s "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"01:01:01 20120523"')]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这样可以设置全部时间")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -s "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2012-05-23 01:01:01"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这样可以设置全部时间")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -s "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20120523 01:01:01"')]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这样可以设置全部时间")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 有时需要检查一组命令花费的时间")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("start")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%s"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\nnmap man.linuxde.net "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v(" /dev/null\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("end")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%s"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("difference")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),s._v(" end "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" start "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$difference")]),s._v(" seconds.\n")])])]),a("h3",{attrs:{id:"_2-6-mount"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-mount"}},[s._v("#")]),s._v(" 2.6. mount")]),s._v(" "),a("blockquote",[a("p",[s._v("mount 命令用于挂载文件系统到指定的挂载点。此命令的最常用于挂载 cdrom，使我们可以访问 cdrom 中的数据，因为你将光盘插入 cdrom 中，Linux 并不会自动挂载，必须使用 Linux mount 命令来手动完成挂载。")]),s._v(" "),a("p",[s._v("参考：http://man.linuxde.net/mount > https://blog.csdn.net/weishujie000/article/details/76531924")])]),s._v(" "),a("p",[s._v("示例：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 /dev/hda1 挂在 /mnt 之下")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" /dev/hda1 /mnt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 /dev/hda1 用唯读模式挂在 /mnt 之下")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" -o ro /dev/hda1 /mnt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 /tmp/image.iso 这个光碟的 image 档使用 loop 模式挂在 /mnt/cdrom 之下")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用这种方法可以将一般网络上可以找到的 Linux ISO 在不烧录成光碟的情况下检视其内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" -o loop /tmp/image.iso /mnt/cdrom\n")])])]),a("h3",{attrs:{id:"_2-7-umount"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-umount"}},[s._v("#")]),s._v(" 2.7. umount")]),s._v(" "),a("blockquote",[a("p",[s._v("umount 命令用于卸载已经挂载的文件系统。利用设备名或挂载点都能 umount 文件系统，不过最好还是通过挂载点卸载，以免使用绑定挂载（一个设备，多个挂载点）时产生混乱。")]),s._v(" "),a("p",[s._v("参考：http://man.linuxde.net/umount")])]),s._v(" "),a("p",[s._v("示例：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过设备名卸载")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("umount")]),s._v(" -v /dev/sda1\n/dev/sda1 umounted\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过挂载点卸载")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("umount")]),s._v(" -v /mnt/mymount/\n/tmp/diskboot.img umounted\n")])])]),a("h3",{attrs:{id:"_2-8-ps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-ps"}},[s._v("#")]),s._v(" 2.8. ps")]),s._v(" "),a("blockquote",[a("p",[s._v("ps 命令用于报告当前系统的进程状态。可以搭配 kill 指令随时中断、删除不必要的程序。ps 命令是最基本同时也是非常强大的进程查看命令，使用该命令可以确定有哪些进程正在运行和运行的状态、进程是否结束、进程有没有僵死、哪些进程占用了过多的资源等等，总之大部分信息都是可以通过执行该命令得到的。")]),s._v(" "),a("p",[s._v("参考：http://man.linuxde.net/ps")])]),s._v(" "),a("p",[s._v("示例：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 按内存资源的使用量对进程进行排序")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" -rnk "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 按 CPU 资源的使用量对进程进行排序")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" -nk "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n")])])]),a("h3",{attrs:{id:"_2-9-kill"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-kill"}},[s._v("#")]),s._v(" 2.9. kill")]),s._v(" "),a("blockquote",[a("p",[s._v("kill 命令用来删除执行中的程序或工作。kill 可将指定的信息送至程序。预设的信息为 SIGTERM(15),可将指定程序终止。若仍无法终止该程序，可使用 SIGKILL(9) 信息尝试强制删除程序。程序或工作的编号可利用 ps 指令或 job 指令查看。")]),s._v(" "),a("p",[s._v("参考：http://man.linuxde.net/kill")])]),s._v(" "),a("p",[s._v("示例：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出所有信号名称")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -l\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGHUP       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGINT       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGQUIT      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGILL\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGTRAP      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGABRT      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGBUS       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGFPE\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGKILL     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGUSR1     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGSEGV     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGUSR2\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGPIPE     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGALRM     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGTERM     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGSTKFLT\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGCHLD     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGCONT     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGSTOP     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGTSTP\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGTTIN     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGTTOU     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGURG      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGXCPU\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGXFSZ     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGVTALRM   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGPROF     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGWINCH\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGIO       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGPWR      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGSYS      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN+1  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("36")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN+2  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("37")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN+3  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("38")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN+4\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("39")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN+5  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN+6  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("41")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN+7  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN+8\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN+9  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN+10 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN+11 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("46")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN+12\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("47")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN+13 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN+14 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("49")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMIN+15 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMAX-14\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMAX-13 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMAX-12 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMAX-11 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("54")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMAX-10\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMAX-9  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMAX-8  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("57")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMAX-7  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("58")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMAX-6\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("59")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMAX-5  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMAX-4  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("61")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMAX-3  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMAX-2\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("63")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMAX-1  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SIGRTMAX\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先用 ps 查找进程，然后用 kill 杀掉")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3268")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2884")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":21 pts/1    00:00:00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" install.log\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3370")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2822")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":21 pts/0    00:00:00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3268")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3268")]),s._v("\n-bash: kill: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3268")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" - 没有那个进程\n")])])]),a("h3",{attrs:{id:"_2-10-systemctl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-systemctl"}},[s._v("#")]),s._v(" 2.10. systemctl")]),s._v(" "),a("blockquote",[a("p",[s._v("systemctl 命令是系统服务管理器指令，它实际上将 service 和 chkconfig 这两个命令组合到一起。")]),s._v(" "),a("p",[s._v("参考：http://man.linuxde.net/systemctl")])]),s._v(" "),a("p",[s._v("示例：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1.启动 nfs 服务")]),s._v("\nsystemctl start nfs-server.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2.设置开机自启动")]),s._v("\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" nfs-server.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3.停止开机自启动")]),s._v("\nsystemctl disable nfs-server.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4.查看服务当前状态")]),s._v("\nsystemctl status nfs-server.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5.重新启动某服务")]),s._v("\nsystemctl restart nfs-server.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 6.查看所有已启动的服务")]),s._v("\nsystemctl list -units --type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 7. 开启防火墙 22 端口")]),s._v("\niptables -I INPUT -p tcp --dport "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" -j accept\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 8. 彻底关闭防火墙")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl status firewalld.service\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl stop firewalld.service\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl disable firewalld.service\n")])])]),a("h3",{attrs:{id:"_2-11-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-service"}},[s._v("#")]),s._v(" 2.11. service")]),s._v(" "),a("blockquote",[a("p",[s._v("service 命令是 Redhat Linux 兼容的发行版中用来控制系统服务的实用工具，它以启动、停止、重新启动和关闭系统服务，还可以显示所有系统服务的当前状态。")]),s._v(" "),a("p",[s._v("参考：http://man.linuxde.net/service")])]),s._v(" "),a("p",[s._v("示例：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" network status\n配置设备：\nlo eth0\n当前的活跃设备：\nlo eth0\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" network restart\n正在关闭接口 eth0：                                        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("  确定  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n关闭环回接口：                                             "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("  确定  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n设置网络参数：                                             "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("  确定  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n弹出环回接口：                                             "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("  确定  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n弹出界面 eth0：                                            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("  确定  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("h3",{attrs:{id:"_2-12-crontab"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-12-crontab"}},[s._v("#")]),s._v(" 2.12. crontab")]),s._v(" "),a("blockquote",[a("p",[s._v("crontab 命令被用来提交和管理用户的需要周期性执行的任务，与 windows 下的计划任务类似，当安装完成操作系统后，默认会安装此服务工具，并且会自动启动 crond 进程，crond 进程每分钟会定期检查是否有要执行的任务，如果有要执行的任务，则自动执行该任务。")]),s._v(" "),a("p",[s._v("参考：http://man.linuxde.net/crontab")])]),s._v(" "),a("p",[s._v("示例：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每 1 分钟执行一次 command")]),s._v("\n* * * * * "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每小时的第 3 和第 15 分钟执行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3,15")]),s._v(" * * * * "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在上午 8 点到 11 点的第 3 和第 15 分钟执行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3,15")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("-11 * * * "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每隔两天的上午 8 点到 11 点的第 3 和第 15 分钟执行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3,15")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("-11 */2 * * "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每个星期一的上午 8 点到 11 点的第 3 和第 15 分钟执行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3,15")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("-11 * * "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每晚的 21:30 重启 smb")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" * * * /etc/init.d/smb restart\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每月 1、10、22 日的 4 : 45 重启 smb")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1,10")]),s._v(",22 * * /etc/init.d/smb restart\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每周六、周日的 1:10 重启 smb")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" * * "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6,0")]),s._v(" /etc/init.d/smb restart\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每天 18 : 00 至 23 : 00 之间每隔 30 分钟重启 smb")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0,30")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v("-23 * * * /etc/init.d/smb restart\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每星期六的晚上 11:00 pm 重启 smb")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" * * "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" /etc/init.d/smb restart\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每一小时重启 smb")]),s._v("\n* */1 * * * /etc/init.d/smb restart\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 晚上 11 点到早上 7 点之间，每隔一小时重启 smb")]),s._v("\n* "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v("-7/1 * * * /etc/init.d/smb restart\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每月的 4 号与每周一到周三的 11 点重启 smb")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" * mon-wed /etc/init.d/smb restart\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一月一号的 4 点重启 smb")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" jan * /etc/init.d/smb restart\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每小时执行`/etc/cron.hourly`目录内的脚本")]),s._v("\n01 * * * * root run-parts /etc/cron.hourly\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);